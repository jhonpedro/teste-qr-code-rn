<!DOCTYPE html>
<html lang="en">
	<head>
		<title>QR Code</title>
		<style>
			body,
			html {
				margin: 0;
				padding: 0;
				max-width: 256px;
				width: 256px;
				height: 256px;
			}
		</style>
		<script
			src="https://unpkg.com/html5-qrcode"
			type="text/javascript"
		></script>
	</head>
	<body>
		<div id="qrcode"></div>
    <span>String: <strong class="qrcode"></strong></span>
	</body>
	<script>
		async function main() {
			function onScanSuccess(decodedText, decodedResult) {
				// handle the scanned code as you like, for example:
				console.log(`Code matched = ${decodedText}`, decodedResult)
        document.querySelector('.qrcode').innerHTML = decodedText
        html5QrcodeScanner.stop()
			}

			function onScanFailure(error) {
				// handle scan failure, usually better to ignore and keep scanning.
				// for example:
				console.warn(`Code scan error = ${error}`)
			}

			let html5QrcodeScanner = new Html5QrcodeScanner(
				'qrcode',
				{ fps: 10, qrbox: { width: 250, height: 250 } },
				/* verbose= */ false
			)
			html5QrcodeScanner.render(onScanSuccess, onScanFailure)
		}

		main()
	</script>
</html>
